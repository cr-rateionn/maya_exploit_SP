# README

https://www.reddit.com/r/Maya/comments/gvuxip/warning_script_exploit_in_maya/

Maya に潜む悪意のあるプログラムを簡易チェックします。

## ezCheck

1.  '\_scan.cmd' を実行。

    1.  実行処理中に文字が赤くなった場合、悪意のあるプログラムが潜んでいる可能性があります。
        MayaScanner-win64.msi をインストールして悪意のあるスクリプトを排除する必要があります。

            	![](asset\exploit.png)

    2.  特に文字の色が変わらない場合はひとまず安心なじょうたいではありますが、感染型のプログラムが想定されていますので常注意する世に心がけてください。
        ![](asset\exploit_none.png)

### Google Spread Sheet 連携

大人数のエラーチェック状況を素早く確認できるように、簡易的ではありますが Google Spread Sheet へのチェック状況送信機能を搭載しております。
Google OAuth の設定や指定スプレッドシートへの書き込み権限設定等がありますので、テクニカル知見のある方に追加設定を頂いたものを再配布していただけますと幸いです。

詳細は`_scan.py line:22`を参照ください。

## At the end

ツールと同じフォルダの中に Autodesk 社がリリースした Maya 用のセキュリティプラグインがあります。
インストールして、プラグインを有効にしてください。

- 配布場所 https://www.autodesk.com/trust/security-advisories/adsk-sa-2020-0003

1. `Aautodesk/MayaScanner-win64.msi` をインストール
1. Maya を起動して'MayaScanner.py'と'MayaScannerCB.py'を自動ロードするように設定する。
   ![](asset\plugin.png)
1. 悪意のあるスクリプトが仕込まれているシーンを開いた際にダイアログが出るので、メッセージを読んで正しく該当シーンを修正してください。
   ![](asset\dialog.png)

### Maya 起動時に MayaScanner を必ずロードさせたい(パイプライン編)

- userSetup.py に下記のスクリプトを仕込んでおくと良いかと思います。

```python
cmds.loadPlugin('MayaScanner', qt=True)
cmds.loadPlugin('MayaScannerCB', qt=True)  # evidently a file save callback script
# cmds.MayaScan()
```

CREEK & RIVER Co., Ltd. COYOTE 3DCG STUDIO
Copyright 2020 reiji.amano@pr.cri.co.jp and COYOTE 3DCG STUDIO Techinical Team
