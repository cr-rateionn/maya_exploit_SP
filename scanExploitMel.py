# -*- coding: utf-8 -*-
import glob
import sys
import pathlib
import codecs
import subprocess
def scanInstallDirMel(path, regexp):
    exploit = []
    # max_num = len([x for x in pathlib.Path(path).glob(regexp)])
    for num, ppath in enumerate(pathlib.Path(path).glob(regexp)):
        result = None
        try:
            with codecs.open(ppath.as_posix(), mode="r") as f:
                if "MayaMelUIConfigurationFile" in f.read():
                    exploit.append(ppath.as_posix())
                    result = 1
                else:
                    result = 0
        except:
            pass

        if result:
            subprocess.call("color C", shell=True)

        print("cecho {:>4}    {}".format(str(result), ppath))
    return exploit


